#include <Adafruit_GFX.h>
#include <Adafruit_IS31FL3731.h>

Adafruit_IS31FL3731 ledmatrix = Adafruit_IS31FL3731();

const long animation[3][36] = {
    {0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b11111111111111111111111111111111,
     0b11111111111111111111111111111111,
     0b11111111111111111111111111111111,
     0b11111111111111111111111111111111,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000},
    {0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111},
    {0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000000000000000000011111111,
     0b11111111000000000000000000000000,
     0b00000000111111111111111100000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000111111111111111100000000,
     0b11111111000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000000000000,
     0b00000000000000000000000011111111}};

void plot(int x, int y, int v)
{
    ledmatrix.drawPixel(x, y, v);
}

void clearScreen()
{
    for (int i = 0; i < 16; ++i)
        for (int j = 0; j < 9; ++j)
            plot(i, j, 0);
}

void setup()
{
    ledmatrix.begin();
}

void loop()
{
    for (int i = 0; i < 3; ++i)
    {
        int bits[16 * 9];
        for (int j = 0; j < 36; ++j)
            for (int k = 0; k < 4; ++k)
                bits[j * 4 + k] = animation[i][j] >> (3 - k) * 8 & 255;
        for (int j = 0; j < 16 * 9; ++j)
        {
            int x = j % 16;
            int y = j / 16;
            plot(x, y, bits[j]);
        }
        delay(1000 / 1);
        clearScreen();
    }
}