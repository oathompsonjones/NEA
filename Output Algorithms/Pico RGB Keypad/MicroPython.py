import time
import picokeypad as keypad

animation = [
    [
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b000000000000000000000000,
        0b000000000000000000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b000000000000000000000000,
        0b000000000000000000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000,
        0b111000110010010000000000
    ],
    [
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b111111111111111111111111,
        0b111111111111111111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b111111111111111111111111,
        0b111111111111111111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111,
        0b000111001101101111111111
    ]
]

keypad.init()
keypad.set_brightness(1.0)

while True:
    for frame in animation:
        bits = []
        for i in range(16):
            bits.append([]);
            bits[i].append(frame[i] >> 16 & 255)
            bits[i].append(frame[i] >> 8 & 255)
            bits[i].append(frame[i] & 255)
        for i in range(len(bits)):
            keypad.illuminate(i, bits[i][0], bits[i][1], bits[i][2])
        keypad.update()
        time.sleep(1 / 1)
